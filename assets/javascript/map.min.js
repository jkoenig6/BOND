/*! js-url - v2.5.3 - 2018-04-05 */!function(){var e=function(){function e(e){return decodeURIComponent(e.replace(/\+/g," "))}function t(e,t){var o=e.charAt(0),n=t.split(o);return o===e?n:n[(e=parseInt(e.substring(1),10))<0?n.length+e:e-1]}function o(t,o){for(var n=t.charAt(0),i=o.split("&"),r=[],a={},l=[],s=t.substring(1),c=0,d=i.length;c<d;c++)if((r=i[c].match(/(.*?)=(.*)/))||(r=[i[c],i[c],""]),""!==r[1].replace(/\s/g,"")){if(r[2]=e(r[2]||""),s===r[1])return r[2];(l=r[1].match(/(.*)\[([0-9]+)\]/))?(a[l[1]]=a[l[1]]||[],a[l[1]][l[2]]=r[2]):a[r[1]]=r[2]}return n===t?a:a[s]}return function(e,n){var i,r={};if("tld?"!==e){if(n=n||window.location.toString(),!e)return n;if(e=e.toString(),i=n.match(/^mailto:([^\/].+)/))r.protocol="mailto",r.email=i[1];else{if((i=n.match(/(.*?)\/#\!(.*)/))&&(n=i[1]+i[2]),(i=n.match(/(.*?)#(.*)/))&&(r.hash=i[2],n=i[1]),r.hash&&e.match(/^#/))return o(e,r.hash);if((i=n.match(/(.*?)\?(.*)/))&&(r.query=i[2],n=i[1]),r.query&&e.match(/^\?/))return o(e,r.query);if((i=n.match(/(.*?)\:?\/\/(.*)/))&&(r.protocol=i[1].toLowerCase(),n=i[2]),(i=n.match(/(.*?)(\/.*)/))&&(r.path=i[2],n=i[1]),r.path=(r.path||"").replace(/^([^\/])/,"/$1"),e.match(/^[\-0-9]+$/)&&(e=e.replace(/^([^\/])/,"/$1")),e.match(/^\//))return t(e,r.path.substring(1));if((i=t("/-1",r.path.substring(1)))&&(i=i.match(/(.*?)\.([^.]+)$/))&&(r.file=i[0],r.filename=i[1],r.fileext=i[2]),(i=n.match(/(.*)\:([0-9]+)$/))&&(r.port=i[2],n=i[1]),(i=n.match(/(.*?)@(.*)/))&&(r.auth=i[1],n=i[2]),r.auth&&(i=r.auth.match(/(.*)\:(.*)/),r.user=i?i[1]:r.auth,r.pass=i?i[2]:void 0),r.hostname=n.toLowerCase(),"."===e.charAt(0))return t(e,r.hostname);r.port=r.port||("https"===r.protocol?"443":"80"),r.protocol=r.protocol||("443"===r.port?"https":"http")}return e in r?r[e]:"{}"===e?r:void 0}}}();"function"==typeof window.define&&window.define.amd?window.define("js-url",[],(function(){return e})):(void 0!==window.jQuery&&window.jQuery.extend({url:function(e,t){return window.url(e,t)}}),window.url=e)}(),jQuery(document).ready((function($){var e,t;function o(){$("#overview-map-container").addClass("hide"),$(".zoom-div.region-map").removeClass("hide"),$("#region-container-"+e).removeClass("hide"),$("#map-svg-region-"+e).removeClass("hide"),$("#school-list-"+e).removeClass("hide"),$("#region-key-"+e).removeClass("hide"),$(".map-marker-container").removeClass("hide"),history.replaceState(null,null,"?region="+e)}function n(){$("#overview-map-container").removeClass("hide"),$(".zoom-div.region-map").addClass("hide"),$(".region-container").addClass("hide"),$(".map-svg-region").addClass("hide"),$(".region-key").addClass("hide"),$(".map-marker-container").addClass("hide"),$(".zoom-div.schools").addClass("hide"),history.replaceState(null,null,location.pathname)}function i(){$(".zoom-div.schools").removeClass("hide"),$("#school-"+t).removeClass("hide"),$(".close-button").removeClass("close-button-region"),history.replaceState(null,null,"?region="+e+"&school="+t)}function r(){$("#school-"+t).addClass("hide"),$(".zoom-div.schools").addClass("hide"),$(".zoom-div.region-map").removeClass("hide"),$("#region-container-"+t).removeClass("hide"),$("#map-svg-region-"+t).removeClass("hide"),$("#school-list-"+t).removeClass("hide"),$("#region-key-"+t).removeClass("hide"),$(".map-marker-container").removeClass("hide"),history.replaceState(null,null,"?region="+e)}function a(){$(".close-regions").click((function(){n()}))}function l(){$(".close-schools").click((function(){r()}))}function s(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return t&&t[1]||void 0}var c,d,u,m=s("school"),h=s("region");h>""&&null==m?(e=url("?region"),t=url("?school"),o(),a()):h>""&&m>""?(e=url("?region"),t=url("?school"),o(),i(),a(),l()):null==h&&m>""&&(e=url("?region"),t=url("?school"),n(),i(),$(".close-schools").click((function(){r(),n()}))),$(".overview-map-svg-full g").click((function(){e=$(this).attr("id"),o(),a();var t=.33*($(".region-map-svg-container").width()-$(this).width());$(".region-map-svg-container").scrollLeft(t)})),$(".map-marker-container:not(.external)").click((function(){t=$(this).attr("name"),i(),l()})),$(".modal-toggle").on("click",(function(e){e.preventDefault(),$("#overview-map-svg-container").toggleClass("modal-visible"),$(".modal").toggleClass("is-visible"),$(".modal-content").empty().addClass("embed-fluid")})),function(){for(var e=document.querySelectorAll(".youtube"),t=0;t<e.length;t++){if("DIV"===e[t].nodeName){var o="https://img.youtube.com/vi/"+e[t].dataset.embed+"/hqdefault.jpg",n=new Image;n.src=o,n.addEventListener("load",void e[t].appendChild(n))}e[t].addEventListener("click",(function(e){e.preventDefault();var t=document.querySelector(".modal"),o=document.querySelector(".modal-content"),n=document.createElement("iframe"),i="";"A"===this.nodeName?(i=this.getAttribute("href")+"?rel=0&autoplay=1",document.getElementById("overview-map-svg-container").setAttribute("class","modal-visible")):i="https://www.youtube.com/embed/"+this.dataset.embed+"?rel=0&autoplay=1";n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",""),n.setAttribute("allow","autoplay"),n.setAttribute("src",i),o.appendChild(n),t.setAttribute("class","modal is-visible")}))}}(),c=$(".list-investments li"),d=$(".investment-projects .project"),u=$(".modal-content"),c.on("click",(function(){var e="#"+$(this).data("project");console.log(e),d.removeClass("active"),$(e).addClass("active");var t=$(".investment-projects").clone();u.removeClass("embed-fluid").html(t)}))}));